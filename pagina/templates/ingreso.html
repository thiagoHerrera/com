<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TW Company Fitness - Suplementos</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/input.css' %}">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-container">
                <img src="{% static './css/img/TW2.png' %}" alt="Logo" class="logo">
            </div>
            <div class="button-container">
                <button class="btn btn-header" data-bs-toggle="modal" data-bs-target="#agregarSuplementoModal">Agregar Suplemento</button>
            </div>
            <nav class="menu">
                <ul>
                    <button class="btn btn-dark"> <a href="{% url 'principal' %}">Home</a></button>
                </ul>
            </nav>
        </div>
    </header>

    <div class="main-content">
        <h2>Suplementos Agregados</h2>
        <div class="suplementos-list">
            {% for suplemento in suplementos %}
            <div class="suplemento-card">
                <!-- Mostrar la imagen directamente desde la base de datos -->
                <img src="{{ suplemento.imagen.url }}" alt="{{ suplemento.nombre }}" class="img-fluid">
                <h5>{{ suplemento.nombre }}</h5>
                <p>{{ suplemento.descripcion }}</p>
                <a href='{% url "delete" id=suplemento.id %}'>
                    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" height="40px">
                        <g id="delete">
                            <path d="m43 23v4h-4v18h-14v-18h-4v-4h5v-4h12v4z" fill="#cdeef6"/>
                            <path d="m49 8h-34a7.0082 7.0082 0 0 0 -7 7v34a7.0082 7.0082 0 0 0 7 7h34a7.0082 7.0082 0 0 0 7-7v-34a7.0082 7.0082 0 0 0 -7-7zm5 41a5.0059 5.0059 0 0 1 -5 5h-34a5.0059 5.0059 0 0 1 -5-5v-34a5.0059 5.0059 0 0 1 5-5h34a5.0059 5.0059 0 0 1 5 5zm-11-27h-4v-3a1 1 0 0 0 -1-1h-12a1 1 0 0 0 -1 1v3h-4a1 1 0 0 0 -1 1v4a1 1 0 0 0 1 1h3v17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-17h3a1 1 0 0 0 1-1v-4a1 1 0 0 0 -1-1zm-16-2h10v2h-10zm11 24h-12v-16h12zm4-18h-20v-2h20zm-13 14v-8a1 1 0 0 1 2 0v8a1 1 0 0 1 -2 0zm4 0v-8a1 1 0 0 1 2 0v8a1 1 0 0 1 -2 0z" fill="#4f83d1"/>
                        </g>
                    </svg>
                </a>
                <a href='{% url "update" id=suplemento.id %}'>
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" height="40" viewBox="0 0 64 64">
                        <linearGradient id="0O0q6J4HBgQKyT39nvTa~a_56304_gr1" x1="46.807" x2="46.807" y1="9.849" y2="24.215" gradientUnits="userSpaceOnUse" spreadMethod="reflect">
                            <stop offset="0" stop-color="#6dc7ff"></stop>
                            <stop offset="1" stop-color="#e6abff"></stop>
                        </linearGradient>
                        <path fill="url(#0O0q6J4HBgQKyT39nvTa~a_56304_gr1)" d="M49.482,24.392l-9.874-9.874l4.232-4.232c0.39-0.39,1.021-0.39,1.411,0l8.464,8.464 c0.39,0.39,0.39,1.021,0,1.411L49.482,24.392z"></path>
                        <linearGradient id="0O0q6J4HBgQKyT39nvTa~b_56304_gr2" x1="32" x2="32" y1="8.084" y2="55.83" gradientUnits="userSpaceOnUse" spreadMethod="reflect">
                            <stop offset="0" stop-color="#1a6dff"></stop>
                            <stop offset="1" stop-color="#c822ff"></stop>
                        </linearGradient>
                        <path fill="url(#0O0q6J4HBgQKyT39nvTa~b_56304_gr2)" d="M50.697,25.999l4.428-4.428c1.167-1.167,1.167-3.065,0-4.232l-8.464-8.464 c-1.167-1.167-3.065-1.167-4.232,0l-4.428,4.428c-0.664-0.175-1.4-0.011-1.92,0.509l-1.411,1.411c-0.52,0.52-0.684,1.256-0.509,1.92 L11.198,40.106l-0.508,0.508l-0.2,0.2l-2.373,9.967c-0.343,1.442,0.078,2.928,1.126,3.976s2.534,1.469,3.976,1.125l9.967-2.373 l0.2-0.2l0.508-0.508l22.964-22.964c0.664,0.175,1.4,0.011,1.92-0.509l1.411-1.411C50.708,27.399,50.872,26.663,50.697,25.999z M47.367,27.92L36.081,16.634l1.411-1.411l11.285,11.285L47.367,27.92z M23.46,50.414c-0.28-1.063-0.682-2.077-1.198-3.034 l20.872-20.872l2.116,2.116L23.46,50.414z M14.916,53.428c-0.12-1.074-0.58-2.115-1.405-2.939c-0.825-0.825-1.865-1.285-2.939-1.405 l0.698-2.931c1.649,0.266,3.173,1.03,4.357,2.22c1.184,1.954,1.284,2.708,0.698,4.357l-2.931,0.698z"></path>
                    </svg> 
                </a>
            </div>
            {% empty %}
            <p>No hay suplementos añadidos aún.</p>
            {% endfor %}
        </div>
    </div>

    <div class="modal fade" id="agregarSuplementoModal" tabindex="-1" aria-labelledby="agregarSuplementoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content"> 
                <div class="modal-header">
                    <h5 class="modal-title" id="agregarSuplementoModalLabel">Agregar Suplemento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <button type="submit" class="btn btn-primary">Guardar Suplemento</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 TW Company. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
